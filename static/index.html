<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <link rel="shortcut icon" href="./favicon.ico">
  <link rel="preload" href="https://cycjimmy.github.io/staticFiles/images/icons/icon-play1.svg" as="image">
  <link rel="preload" href="https://cycjimmy.github.io/staticFiles/images/icons/icon-play2.svg" as="image">
  <link rel="preload" href="https://cycjimmy.github.io/staticFiles/images/icons/icon-pause1.svg" as="image">
  <link rel="preload" href="https://cycjimmy.github.io/staticFiles/images/icons/icon-pause2.svg" as="image">

  <title>H5 Audio Controls Test</title>

  <style>
    * {
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
    }

    body {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;

      background-color: #0a4f56;
    }

    .wrapper {
      -webkit-box-flex: 1;
      -ms-flex: 1;
      flex: 1;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: vertical;
      -webkit-box-direction: normal;
      -ms-flex-direction: column;
      flex-direction: column;
      -ms-flex-pack: distribute;
      justify-content: space-around;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;

      padding: 40px;
    }

    .buttons-wrapper {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      width: 80vw;
    }

    .button {
      -webkit-box-flex: 1;
      -ms-flex: 1;
      flex: 1;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-pack: center;
      -ms-flex-pack: center;
      justify-content: center;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      height: 30px;
      margin: 0 5px;

      font-size: 16px;
      border: 1px solid white;
      border-radius: 4px;
      color: white;
    }
  </style>
</head>

<body>
<div class="wrapper">
  <div class="buttons-wrapper">
    <a href="javascript:" class="button" data-tip="play">play</a>
    <a href="javascript:" class="button" data-tip="pause">pause</a>
    <a href="javascript:" class="button" data-tip="stop">stop</a>
    <a href="javascript:" class="button" data-tip="trigger">trigger</a>
  </div>

  <div class="buttons-wrapper">
    <a href="javascript:" class="button" data-tip="changeAudioSrc">changeAudioSrc</a>
  </div>

  <div class="buttons-wrapper">
    <a href="javascript:" class="button" data-tip="changePosition">changePosition</a>
  </div>

  <div class="buttons-wrapper">
    <a href="javascript:" class="button" data-tip="changeButtonSize">changeButtonSize</a>
  </div>

  <div class="buttons-wrapper">
    <a href="javascript:" class="button" data-tip="changeIconSize">changeIconSize</a>
  </div>

  <div class="buttons-wrapper">
    <a href="javascript:" class="button" data-tip="changePlayIcon">changePlayIcon</a>
  </div>

  <div class="buttons-wrapper">
    <a href="javascript:" class="button" data-tip="changePauseIcon">changePauseIcon</a>
  </div>

  <div class="buttons-wrapper">
    <a href="javascript:" class="button" data-tip="changeAll">changeAll</a>
  </div>
</div>

<script src="./h5-audio-controls.umd.js"></script>
<script>
  const aAudioSrc = [
    'https://cycjimmy.github.io/staticFiles/media/Richard_Clayderman-LOVE_IS_BLUE.mp3',
    'https://cycjimmy.github.io/staticFiles/media/Richard_Clayderman-Secget_Garden.mp3'
  ];
  const aPosition = ['left-top', 'top-right', 'right-bottom', 'left-bottom'];
  const aButtonSize = ['16vw', '12vw'];
  const aIconSize = ['10vw', '7vw'];
  const aPlayIconSrc = [
    'https://cycjimmy.github.io/staticFiles/images/icons/icon-play1.svg',
    'https://cycjimmy.github.io/staticFiles/images/icons/icon-play2.svg'
  ];
  const aPauseIconSrc = [
    'https://cycjimmy.github.io/staticFiles/images/icons/icon-pause1.svg',
    'https://cycjimmy.github.io/staticFiles/images/icons/icon-pause2.svg'
  ];
  const audioControls = h5AudioControls(aAudioSrc[0], {
    position: 'left-top'
  });

  const aButtons = Array.prototype.slice.call(document.querySelectorAll('.button'));

  audioControls.load();

  const methods = {
    changeAudioSrc() {
      switch (audioControls.config.audioSrc) {
        case aAudioSrc[0]:
          audioControls.changeAudioSrc(aAudioSrc[1]);
          break;
        case aAudioSrc[1]:
          audioControls.changeAudioSrc(aAudioSrc[0]);
          break;
      }
    },
    changePosition() {
      switch (audioControls.config.position) {
        case aPosition[0]:
          audioControls.changePosition(aPosition[1]);
          break;
        case aPosition[1]:
          audioControls.changePosition(aPosition[2]);
          break;
        case aPosition[2]:
          audioControls.changePosition(aPosition[3]);
          break;
        case aPosition[3]:
          audioControls.changePosition(aPosition[0]);
          break;
      }
    },
    changeButtonSize() {
      switch (audioControls.config.buttonSize) {
        case aButtonSize[0]:
          audioControls.changeIconSize(aButtonSize[1]);
          break;
        case aButtonSize[1]:
          audioControls.changeIconSize(aButtonSize[0]);
          break;
        default:
          audioControls.changeIconSize(aButtonSize[0]);
      }
    },
    changeIconSize() {
      switch (audioControls.config.iconSize) {
        case aIconSize[0]:
          audioControls.changeIconSize(aIconSize[1]);
          break;
        case aIconSize[1]:
          audioControls.changeIconSize(aIconSize[0]);
          break;
        default:
          audioControls.changeIconSize(aIconSize[0]);
      }
    },
    changePlayIcon() {
      switch (audioControls.config.playIcon) {
        case aPlayIconSrc[0]:
          audioControls.change('playIcon', aPlayIconSrc[1]);
          break;
        case aPlayIconSrc[1]:
          audioControls.change('playIcon', aPlayIconSrc[0]);
          break;
        default:
          audioControls.change('playIcon', aPlayIconSrc[1]);
      }
    },
    changePauseIcon() {
      switch (audioControls.config.pauseIcon) {
        case aPauseIconSrc[0]:
          audioControls.change('pauseIcon', aPauseIconSrc[1]);
          break;
        case aPauseIconSrc[1]:
          audioControls.change('pauseIcon', aPauseIconSrc[0]);
          break;
        default:
          audioControls.change('pauseIcon', aPauseIconSrc[1]);
      }
    },
  };

  aButtons.forEach(button => button.addEventListener('click', function () {
    const buttonTip = button.dataset.tip;

    if (!buttonTip) {
      return;
    }
    switch (buttonTip) {
      case 'play':
      case 'pause':
      case 'stop':
        audioControls[buttonTip]();
        break;

      case 'trigger':
        if (audioControls.isPlaying()) {
          audioControls.pause();
        } else {
          audioControls.play();
        }
        break;

      case 'changeAudioSrc':
      case 'changePosition':
      case 'changeButtonSize':
      case 'changeIconSize':
      case 'changePlayIcon':
      case 'changePauseIcon':
        methods[buttonTip]();
        break;

      case 'changeAll':
        for (let key in methods) {
          methods[key]();
        }
        break;
    }
  }));
</script>
</body>
</html>
